# Local enviroment configuration file to bulk load secrets to GitHub
# do not push this file to git

##############################################
# n8n + Postgres environment configuration   #
#                                            #
# Copied from .env.example 
# Do not push this file to git
# Run    push-env-to-github.sh after filling this
# if already have github varibales created then do nothing
##############################################

###############
# Core n8n    #
###############

# Timezone used by n8n for scheduling, timestamps, etc.
# SOURCE: GitHub Variable: GENERIC_TIMEZONE
GENERIC_TIMEZONE=America/Toronto

# Encryption key used by n8n to encrypt credentials in the database.
# MUST stay the same once n8n is in use or you will lose access to stored credentials.
# SOURCE: GitHub Secret: N8N_ENCRYPTION_KEY
N8N_ENCRYPTION_KEY=053e45b021d11462d526eb950ca901280a3027397eabf48396c7ba2a7056cc22

# Enable basic auth in front of the n8n UI.
# This is a simple username/password gate before you reach the n8n interface.
# SOURCE: Hard-coded (true)
N8N_BASIC_AUTH_ACTIVE=true

# Username for the basic auth gate.
# SOURCE: GitHub Variable: N8N_BASIC_AUTH_USER
N8N_BASIC_AUTH_USER=admin

# Password for the basic auth gate.
# SOURCE: GitHub Secret: N8N_BASIC_AUTH_PASSWORD
N8N_BASIC_AUTH_PASSWORD=123Noentry@Strong@@



###################
# Network / URLs  #
###################

# Public host where n8n is reachable.
# For now, this will be your droplet's public IP.
# Later this can be a domain like n8n.example.com.
# SOURCE: GitHub Variable: N8N_HOST
N8N_HOST=192.168.88.4
# n8n.arshware.com

# Port that n8n listens on inside the container.
# We usually keep this as 5678 (Docker maps it to the same port on the host).
# SOURCE: GitHub Variable: N8N_PORT
N8N_PORT=5678

# Protocol used to access n8n from the outside.
# Start with "http" while you're just using IP:port.
# Later, when you add a reverse proxy + SSL, this becomes "https".
# SOURCE: GitHub Variable: N8N_PROTOCOL
# setting to https as we are using caddy as reverse proxy with ssl
N8N_PROTOCOL=http

# The base URL that n8n will use to generate webhook URLs and links.
# This should match how the outside world reaches your instance.
# For now: http://IP:5678/
# SOURCE: Derived from N8N_HOST, N8N_PROTOCOL, N8N_PORT (often recomputed in CI)
WEBHOOK_URL=http://192.168.88.4/5678/
# https://n8n.arshware.com/

N8N_LISTEN_ADDRESS=0.0.0.0
# mean can listen from outside of docker container

# when this will be behind HTTPS, we can re-enable secure cookies
N8N_SECURE_COOKIE=false

# Runner config (from n8n UI → Settings → Runners)
N8N_RUNNERS_ENABLED=true
N8N_TASK_RUNNER_MODE=external
N8N_RUNNER_URL=http://n8n:5678
N8N_RUNNER_NAME=primary-runner
N8N_RUNNER_TOKEN=__PASTE_RUNNER_TOKEN_FROM_N8N_UI__

#################
# Postgres DB   #
#################

# Database name for n8n.
# SOURCE: Hard-coded / default
POSTGRES_DB=n8n

# Database user for n8n.
# SOURCE: Hard-coded / default
POSTGRES_USER=n8n

# Database password for n8n's Postgres user.
# SOURCE: GitHub Secret: POSTGRES_PASSWORD
POSTGRES_PASSWORD=123ChalNikal@No


#########################
# n8n DB configuration  #
#########################

# n8n will use Postgres instead of SQLite.
# SOURCE: Hard-coded
DB_TYPE=postgresdb

# The hostname of the Postgres service as seen from inside Docker.
# Because docker-compose defines a service called "db", we use "db" here.
# SOURCE: Hard-coded (must match service name in docker-compose.yml)
DB_POSTGRESDB_HOST=db

# Port where Postgres listens inside the container.
# SOURCE: Hard-coded (default Postgres port)
DB_POSTGRESDB_PORT=5432

# n8n's DB name, user, and password - these mirror the POSTGRES_* values above.
# SOURCE: Derived (but we keep them explicit here)
DB_POSTGRESDB_DATABASE=${POSTGRES_DB}
DB_POSTGRESDB_USER=${POSTGRES_USER}
DB_POSTGRESDB_PASSWORD=${POSTGRES_PASSWORD}


#########################
# DigitalOcean Spaces   #
#########################

SPACES_REGION=tor1
SPACES_BUCKET=n8n-storage-space
SPACES_KEY=DO801GFPMDTMHTCPJNF3
SPACES_SECRET=jQTmihXmM4X7kErU7wVQtovP+OYfB2Fvg9Iln8n9xLU


#########################
# Spaces Backup and Behavior   
#########################

# Backup mode: daily or weekly
BACKUP_MODE=daily
# How many days of backups to keep
RETENTION_DAYS=14
# Folder/prefix inside the bucket
SPACES_PREFIX=n8n
# Where your docker-compose.yml lives on the droplet
APP_DIR=/opt/n8n
# Include .env inside backup archive (contains secrets!)
INCLUDE_ENV_FILE=false
